---
#
# Playbook to install and configure collectd
#

# Bare metal machines
- hosts: bare-metal-servers
  gather_facts: false
  remote_user: root
  vars:
    config_type: bare-metal
  vars_files:
    - ../group_vars/all.yml
    - ../group_vars/all.local.yml
  roles:
    - { role: collectd, become: yes, become_user: root, become_method: sudo}

# Virtual machines
- hosts: virtual-servers
  gather_facts: false
  remote_user: root
  vars:
    config_type: virtual
  vars_files:
    - ../group_vars/all.yml
    - ../group_vars/all.local.yml
  roles:
    - { role: collectd, become: yes, become_user: root, become_method: sudo}
